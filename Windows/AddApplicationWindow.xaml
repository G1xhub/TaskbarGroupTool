<Window x:Class="TaskbarGroupTool.Windows.AddApplicationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Application" Height="500" Width="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Name="AddAppWindow">

    <Window.Resources>
        <!-- Colors will be set dynamically, but defaults for light mode -->
        <SolidColorBrush x:Key="WinBackground" Color="#EDEBE6"/>
        <SolidColorBrush x:Key="WinCard" Color="#F5F3EF"/>
        <SolidColorBrush x:Key="WinBorder" Color="#C8C4BC"/>
        <SolidColorBrush x:Key="WinInput" Color="#F9F8F5"/>
        <SolidColorBrush x:Key="WinTextPrimary" Color="#2A2A2A"/>
        <SolidColorBrush x:Key="WinTextSecondary" Color="#6B6860"/>
        <SolidColorBrush x:Key="WinAccent" Color="#8B7D6B"/>
        <SolidColorBrush x:Key="WinHover" Color="#DDD9D0"/>
    </Window.Resources>

    <Border Background="{DynamicResource WinBackground}" BorderBrush="{DynamicResource WinBorder}" BorderThickness="0">
        <Grid Margin="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="#2A2A2A" Padding="16,10">
                <TextBlock Text="ADD APPLICATION" FontFamily="Consolas" FontSize="13"
                           FontWeight="Bold" Foreground="#E8E6E1"/>
            </Border>

            <!-- Search Controls -->
            <Border Grid.Row="1" Background="{DynamicResource WinCard}"
                    BorderBrush="{DynamicResource WinBorder}" BorderThickness="0,0,0,1"
                    Padding="14,10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBox Name="SearchTextBox" Grid.Column="0"
                             Height="30" Padding="8,4"
                             FontFamily="Consolas" FontSize="12"
                             Background="{DynamicResource WinInput}"
                             Foreground="{DynamicResource WinTextPrimary}"
                             BorderBrush="{DynamicResource WinBorder}"
                             BorderThickness="1"
                             Text="{Binding SearchTerm, UpdateSourceTrigger=PropertyChanged}"
                             KeyUp="SearchTextBox_KeyUp"/>

                    <Button Name="SearchButton" Grid.Column="1" Content="FIND"
                            Margin="6,0,6,0" Padding="12,4"
                            FontFamily="Consolas" FontSize="11" FontWeight="Bold"
                            Background="{DynamicResource WinAccent}" Foreground="White"
                            BorderThickness="0" Cursor="Hand"
                            Click="SearchButton_Click"/>

                    <Button Name="BrowseButton" Grid.Column="2" Content="BROWSE..."
                            Padding="12,4"
                            FontFamily="Consolas" FontSize="11"
                            Background="{DynamicResource WinCard}" Foreground="{DynamicResource WinTextPrimary}"
                            BorderBrush="{DynamicResource WinBorder}" BorderThickness="1"
                            Cursor="Hand"
                            Click="BrowseButton_Click"/>
                </Grid>
            </Border>

            <!-- Search Results -->
            <ListBox Grid.Row="2" Name="SearchResultsListBox"
                     ItemsSource="{Binding SearchResults}"
                     DisplayMemberPath="Name"
                     MouseDoubleClick="SearchResultsListBox_MouseDoubleClick"
                     Background="{DynamicResource WinInput}"
                     Foreground="{DynamicResource WinTextPrimary}"
                     BorderThickness="0"
                     FontFamily="Consolas" FontSize="12"/>

            <!-- Footer -->
            <Border Grid.Row="3" Background="{DynamicResource WinCard}"
                    BorderBrush="{DynamicResource WinBorder}" BorderThickness="0,1,0,0"
                    Padding="14,8">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Name="AddButton" Content="ADD SELECTED"
                            Margin="0,0,6,0" Padding="14,6"
                            FontFamily="Consolas" FontSize="11" FontWeight="Bold"
                            Background="{DynamicResource WinAccent}" Foreground="White"
                            BorderThickness="0" Cursor="Hand"
                            Click="AddButton_Click"/>
                    <Button Name="CancelButton" Content="CLOSE"
                            Padding="14,6"
                            FontFamily="Consolas" FontSize="11"
                            Background="{DynamicResource WinCard}" Foreground="{DynamicResource WinTextPrimary}"
                            BorderBrush="{DynamicResource WinBorder}" BorderThickness="1"
                            Cursor="Hand"
                            Click="CancelButton_Click"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
